import midi
from miditime.miditime import MIDITime

# Instantiate the class with a tempo (120bpm is the default) and an output file destination.
mymidi = MIDITime(110, 'myfile.mid')

cameo = [0,0,1,1,1,2,2,2, 3,3,3,4,4,4,4,6, 6,6,7,7,8,8,8,8, 9,9,9,9, 
0,0,1,1,1,2,2,2, 3,3,3,4,4,4,4,5, 0,0,1,1,1,2,2,2, 3,3,3,4, 
4,4,4,0,0,1,1,1, 2,2,2,3,3,3,4,4, 4,4,6,6,6,7,7,8, 8,8,8,9, 
9,9,9,12,12,12,12,12, 12,12,12,7,7,8,8,8, 8,9,9,9,9,0,0,1, 1,1,2,2, 
2,3,3,3,4,4,4,4, 12,12,12,12,7,7,8,8, 8,8,9,9,9,9,0,0, 0,0,0,0, 
12,12,12,12,12,12,12,12, 13,13,13,13,13,13,13,13, 0,0,1,1,1,2,2,2, 3,3,3,4, 
4,4,4,6,6,6,7,7, 8,8,8,8,9,9,9,9, 12,12,12,12,13,13,13,13, 13,13,13,13, 
12,12,12,12,13,13,13,13, 0,0,1,1,1,2,2,2, 12,12,12,12,13,13,13,13, 13,13,13,13, 
12,12,12,12,13,13,13,13, 0,0,1,1,1,2,2,2, 12,12,12,12,13,13,13,13, 13,13,13,13, 
12,12,12,12,13,13,13,13, 0,0,1,1,1,2,2,2, 12,12,12,12,13,13,13,13, 13,13,13,13]

alex = [0,0,1,1,1,2,2,2, 3,3,3,4,4,4,4,6, 6,6,7,7,8,8,8,8, 9,9,9,9, 
0,0,1,1,1,2,2,2, 3,3,3,4,4,4,4,6, 6,6,7,7,8,8,8,8, 9,9,9,9, 
9,9,9,6,6,6,7,7, 8,8,8,8,9,9,9,9, 0,0,1,1,1,2,2,2, 3,3,3,4, 
4,4,4,10,10,10,10,11, 10,10,10,10,10,10,10,10, 0,0,1,1,1,2,2,2, 3,3,3,4, 
4,4,4,6,6,6,7,7, 8,8,8,8,9,9,9,9, 10,10,10,10,0,0,0,0, 0,0,0,0, 
0,0,1,1,1,2,2,2, 3,3,3,4,4,4,4,6, 6,6,7,7,8,8,8,8, 9,9,9,9, 
10,10,10,10,10,10,10,10, 12,12,12,12,12,12,12,12, 0,0,1,1,1,2,2,2, 10,10,10,10, 
10,10,10,10,12,12,12,12, 12,12,12,12,0,0,1,1, 1,2,2,2,10,10,10,10, 10,10,10,10, 
12,12,12,12,12,12,12,12, 0,0,1,1,1,2,2,2, 10,10,10,10,12,12,12,12, 13,13,13,13, 
10,10,10,10,12,12,12,12, 13,13,13,13,0,0,1,1, 1,2,2,2,10,10,10,10, 12,12,12,12]

sierra = [0,0,5,5,5,5,5,5, 5,5,1,1,1,2,2,2, 3,3,3,4,4,4,4,6, 6,6,6,7, 
7,8,8,8,8,9,9,9, 9,9,9,9,9,9,9,9, 0,0,1,1,1,2,2,2, 3,3,3,4, 
4,4,4,0,0,1,1,1, 2,2,2,3,3,3,4,4, 4,4,6,6,6,7,7,8, 8,8,8,9, 
9,9,9,13,13,13,13,13, 0,0,1,1,1,2,2,2, 3,3,3,4,4,4,4,6, 6,6,7,7, 
8,8,8,8,9,9,9,9, 13,13,13,13,13,13,13,13, 0,0,1,1,1,2,2,2, 3,3,3,4, 
4,4,4,6,6,6,7,7, 8,8,8,8,9,9,9,9, 13,13,13,13,13,13,13,13, 14,14,14,14, 
14,14,14,14,14,14,14,14, 0,0,1,1,1,2,2,2, 3,3,3,4,4,4,4,6, 6,6,7,7, 
8,8,8,8,9,9,9,9, 13,13,13,13,13,13,13,13, 14,14,14,14,14,14,14,14, 14,14,14,14, 
10,10,10,10,10,10,10,10, 0,0,1,1,1,2,2,2, 3,3,3,4,4,4,4,6, 6,6,7,7, 
8,8,8,8,9,9,9,9, 13,13,13,13,13,13,13,13, 14,14,14,14,14,14,14,14, 14,14,14,14]

erica = [0,0,1,1,1,2,2,2, 3,3,3,4,4,4,4,4, 0,0,1,1,1,2,2,2, 3,3,3,4, 
4,4,4,6,6,6,7,7, 8,8,8,8,9,9,9,9, 0,0,1,1,1,2,2,2, 3,3,3,4, 
4,4,4,6,6,6,7,7, 8,8,8,8,9,9,9,9, 0,0,1,1,1,2,2,2, 3,3,3,4, 
4,4,4,14,14,14,14,14, 0,0,5,5,5,5,5,5, 5,5,5,5,5,5,5,6, 6,6,7,7, 
8,8,8,8,9,9,9,9, 0,0,1,1,1,2,2,2, 3,3,3,14,14,14,14,14, 14,14,14,14, 
14,14,14,14,10,10,10,10, 10,10,10,10,0,0,1,1, 1,2,2,2,3,3,3,4, 4,4,4,6, 
6,6,7,7,8,8,8,8, 9,9,9,9,14,14,14,14, 14,14,14,14,14,14,14,14, 10,10,10,10, 
10,10,10,10,5,5,5,5, 5,5,5,5,14,14,14,14, 10,10,10,10,13,13,13,13, 13,13,13,13, 
12,12,12,12,12,12,12,12, 5,5,5,5,5,5,5,5, 14,14,14,14,10,10,10,10, 13,13,13,13, 
13,13,13,13,12,12,12,12, 12,12,12,12,5,5,5,5, 5,5,5,5,14,14,14,14, 10,10,10,10]

blank_pattern = midi.read_midifile("midi/blank.mid")
gestures = ['elbow',
	    'head',
	    'twist',
	    'rarm',
	    'sithold',
	    'pause',
	    'burst',
	    'fall',
	    'armslide',
	    'resolve',
	    'papers',
	    'rebound',
	    'handshake',
	    'leg',
	    'smoke']

# its appending not rewriting at correct beat
dancers = [cameo, alex, sierra, erica]
for count, d in enumerate(dancers):
  for i, g in enumerate(gestures):
    pattern = midi.Pattern(resolution=9600)
    track = midi.Track()
    track2 = midi.Track()
    pattern.append(track)
    pattern.append(track2)

    g_pattern = midi.read_midifile("midi/%s.mid" % g)

#range(len(d)) and length of final midi file
    for s in range(len(d)):
# its really that at midi beat 1, write this stuff, midi beat 2, write the stuff, etc
      print s
      if d[s] == i:
	the_pattern = g_pattern
      else:
	the_pattern = blank_pattern

      for x in the_pattern[0]:
	track.append(x)
      for x in the_pattern[1]:
	track2.append(x)

    midi.write_midifile('%s-%s.mid' % (count, g), pattern)
